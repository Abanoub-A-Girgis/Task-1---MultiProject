<%- include('../../partials/headerLayout.ejs', {pageName: "banner", pageTitle: "Banner Page", pathLevel: "/"}) %>

<div class="mx-5 my-4">
<a href="/dashboard/banner/createForm" class="btn btn-success mb-1" style="display: block; width: fit-content; margin-left: auto;"><i class="fa-solid fa-plus" style="margin-right: 0.5rem;"></i>Add New</a>
<%if(slides.length > 0){%>
    <table class="table table-striped table-hover">
        <tr>
            <th>Slide Title</th><th>Details</th><th>Operations</th>
        </tr>    
        <% slides.forEach((oneSlide) => { %>
            <tr>
                <th><%= oneSlide.title %></th>
                <th><%= oneSlide.details %></th>
                <th>
                    <a href="/dashboard/banner/show/<%=oneSlide.id%>">
                        <i class="fa-solid fa-eye"></i>
                    </a>
                    &nbsp;&nbsp;&nbsp;
                    <a href="/dashboard/banner/updateForm/<%=oneSlide.id%>">
                        <i class="fa-solid fa-pencil" style="color: #FFA500;"></i>
                    </a>
                    &nbsp;&nbsp;&nbsp;
                    
                    <span onclick="destroy(this);" bannerID="<%=oneSlide.id%>" style="cursor: pointer;">
                        <i class="fa-solid fa-trash-can" style="color: #e66565;"></i>
                    </span>
                </th>
            </tr>
        <% }); %>
    </table>
<%}
else {%>
    <h3>No banners created yet !!!!</h3>
<%}%>
</div>

<script>
    function destroy(obj){
        if(confirm("Are You Sure you want to Delete this banner ?")) {
            id = obj.getAttribute("bannerID");
            window.location.replace("/dashboard/banner/destroy/" + id);
        }        
    }
</script>

<%- include('../../partials/footerLayout.ejs', { pathLevel: "/" }) %>