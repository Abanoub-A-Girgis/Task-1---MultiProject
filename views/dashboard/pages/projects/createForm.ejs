<%- include('../../partials/headerLayout.ejs', {pageName: "Projects", pageTitle:
"Product Page", pathLevel: "/"}) %>
<div class="mx-5 my-4">
  <h3>Create New Product</h3>
  <table>
    <tr>
      <td>
        <form action="./store" method="post" enctype="multipart/form-data">
          <label for="title">Project Title</label>
          <input type="text" name="title" id="title" />
          <br />
          <label for="description">Description</label>
          <input
            type="text"
            name="description"
            id="description"
            style="height: 200px"
          />
          <br />
          <label for="photo">Photo</label>
          <input
            type="file"
            name="photo"
            id="photo"
            onchange="photoPreviewFn(this);"
          />
          <br />

          <input
            type="submit"
            value="Create New Project"
            class="mt-2 btn btn-primary"
          />
        </form>
      </td>
      <td>
        <img
          src=""
          id="photoPreview"
          alt="photo preview"
          style="max-width: 55%; max-height: 55%"
        />
      </td>
    </tr>
  </table>
</div>

<script>
  function photoPreviewFn(inputFile) {
    var file = inputFile.files[0];
    if (file) {
      var reader = new FileReader();
      reader.onload = () => {
        document
          .getElementById("photoPreview")
          .setAttribute("src", reader.result);
      };
      reader.readAsDataURL(file);
    }
  }
</script>

<%- include('../../partials/footerLayout.ejs', { pathLevel : "/"}) %>
